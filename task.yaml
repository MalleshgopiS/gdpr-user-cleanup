id: gdpr-user-cleanup
difficulty: hard
tags:
  - devops
  - databases
  - gdpr

prompt: |
  Implement a GDPR "Right to be Forgotten" cleanup pipeline.

  Remove all PII for user `user123` across:

  - PostgreSQL auth-db
  - PostgreSQL bleat-db (anonymize posts)
  - MongoDB profiles
  - Redis sessions
  - MinIO avatars

  Requirements:
  - Posts must remain but be anonymized
  - No USER_ID references remain
  - Script must be idempotent